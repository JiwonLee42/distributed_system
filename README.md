# π“ λ¶„μ‚°μ‹μ¤ν… κ³Όμ  (HW1 ~ HW5)

4-1 λ¶„μ‚°μ‹μ¤ν… κ³Όλ©μ κ³Όμ  λ ν¬μ§€ν† λ¦¬μ…λ‹λ‹¤. 

## π“‘ λ©μ°¨
- [HW1: UDP κΈ°λ° Key-Value Store](#hw1-udp-κΈ°λ°-key-value-store)  
- [HW2: νν‹°μ…”λ‹λ UDP κΈ°λ° Key-Value Store](#hw2-νν‹°μ…”λ‹λ-udp-κΈ°λ°-key-value-store)  
- [HW3: μΊμ‹(Cache) + μ„λ²„ κµ¬μ΅°](#hw3-μΊμ‹cache--μ„λ²„-κµ¬μ΅°)  
- [HW4: 4-μ„λ²„ λ¶„μ‚° UDP Key-Value Store](#hw4-4-μ„λ²„-λ¶„μ‚°-udp-key-value-store)  
- [HW5: Primaryβ€“Follower λ³µμ  UDP Key-Value Store](#hw5-primaryfollower-λ³µμ -udp-key-value-store)  

---

## HW1: UDP κΈ°λ° Key-Value Store

### π“ κ°μ”
- UDP μ†μΌ“μ„ μ΄μ©ν•΄ ν΄λΌμ΄μ–ΈνΈμ™€ μ„λ²„κ°€ `Key-Value Store` κµ¬μ΅°μ²΄λ¥Ό μ£Όκ³ λ°›μ  
- ν΄λΌμ΄μ–ΈνΈ: `READ_REQ` μ „μ†΅  
- μ„λ²„: λ¬Έμμ—΄μ„ **μ—­μ λ³€ν™**ν•μ—¬ `READ_REP` μ‘λ‹µ  

### π›  μ‹¤ν–‰ λ°©λ²•
```bash
make
./server <port>
./client <port>

---

## HW2: νν‹°μ…”λ‹λ UDP κΈ°λ° Key-Value Store

### π“ κ°μ”
- ν΄λΌμ΄μ–ΈνΈκ°€ μ”μ²­ μ‹ **Key ν•΄μ‹κ°’ κΈ°λ° νν‹°μ…”λ‹** μν–‰  
- μ—¬λ¬ μ„λ²„(μ: 5001, 5002)μ— μ”μ²­μ„ λ¶„μ‚° μ „μ†΅  

### β™οΈ λ™μ‘ λ°©μ‹
- μ”μ²­ νƒ€μ… λλ¤ κ²°μ • (`READ_REQ` λλ” `WRITE_REQ`)  
- `READ_REQ`: Keyλ§ μ „μ†΅ (17λ°”μ΄νΈ)  
- `WRITE_REQ`: Key+Value μ „μ†΅  
- Key ν•΄μ‹(`hash64(key) % NUM_SRV`) κ²°κ³Όλ΅ νν‹°μ… λ²νΈ κ²°μ •  
- ν¬νΈ λ²νΈ = `5001 + partition`  

### π›  μ‹¤ν–‰ λ°©λ²•
```bash
make

# μ„λ²„ μ‹¤ν–‰
./server 5001
./server 5002

# ν΄λΌμ΄μ–ΈνΈ μ‹¤ν–‰
./client

---

## HW3: μΊμ‹(Cache) + μ„λ²„ κµ¬μ΅°

### π“ κ°μ”
- μ”μ²­μ΄ λ¨Όμ € **μΊμ‹ λ…Έλ“(5001)** λ΅ μ „λ‹¬λ¨  
- μΊμ‹ ννΈ(`CACHE_HIT`): μΊμ‹μ—μ„ λ°”λ΅ μ‘λ‹µ λ°ν™  
- μΊμ‹ λ―Έμ¤(`CACHE_MISS`): μ„λ²„ λ…Έλ“(5002)λ΅ μ”μ²­ μ „λ‹¬ ν›„ μ‘λ‹µ λ°ν™  

### β™οΈ κµ¬μ„±
- `cache.c`: μΊμ‹ λ…Έλ“ (ννΈ/λ―Έμ¤λ¥Ό λλ¤μΌλ΅ κ²°μ •)  
- `server.c`: μ„λ²„ λ…Έλ“ (μ‹¤μ  Key-Value Store λ³΄κ΄€ λ° μ‘λ‹µ)  
- `client.c`: μΊμ‹μ— λ¨Όμ € μ”μ²­, μΊμ‹ λ―Έμ¤μΌ κ²½μ° μ„λ²„μ— μ¬μ”μ²­  

### π›  μ‹¤ν–‰ λ°©λ²•
```bash
make

# ν„°λ―Έλ„ 1: μΊμ‹ μ‹¤ν–‰
./cache 5001

# ν„°λ―Έλ„ 2: μ„λ²„ μ‹¤ν–‰
./server 5002

# ν„°λ―Έλ„ 3: ν΄λΌμ΄μ–ΈνΈ μ‹¤ν–‰
./client

---

## HW4: 4-μ„λ²„ λ¶„μ‚° UDP Key-Value Store

### π“ κ°μ”
- **4κ°μ μ„λ²„(5001~5004)** λ¥Ό λ‘κ³  ν΄λΌμ΄μ–ΈνΈκ°€ μ”μ²­μ„ λ¶„μ‚°  
- λ¶€ν• λ¶„μ‚° μ•κ³ λ¦¬μ¦: λ¬΄μ‘μ„λ΅ 2κ° μ„λ²„λ¥Ό μ„ νƒ β†’ **μ—°κ²° μκ°€ λ” μ μ€ μ„λ²„**λ΅ μ”μ²­ μ „μ†΅  

### β™οΈ λ™μ‘ λ°©μ‹
- ν΄λΌμ΄μ–ΈνΈ: μ΄ 5λ² μ”μ²­, 2-choice λ°©μ‹μΌλ΅ μ„λ²„ μ„ νƒ  
- μ„λ²„: `READ_REQ` μμ‹  μ‹ `READ_REP` μ‘λ‹µ λ°ν™  

### π›  μ‹¤ν–‰ λ°©λ²•
```bash
make

# μ„λ²„ μ‹¤ν–‰ (κ° ν¬νΈμ—μ„ κ°κ° μ‹¤ν–‰)
./server 5001
./server 5002
./server 5003
./server 5004

# ν΄λΌμ΄μ–ΈνΈ μ‹¤ν–‰
./client

---

## HW5: Primaryβ€“Follower λ³µμ  UDP Key-Value Store

### π“ κ°μ”
- **Primary μ„λ²„ (5001)** μ™€ **Follower μ„λ²„ (5002, 5003)** κµ¬μ΅°  
- Primaryλ” μ“°κΈ° μ”μ²­ μμ‹  μ‹:  
  1. μμ²΄ μ €μ¥μ† κ°±μ‹   
  2. λ‘ Followerμ— `WRITE_REQ` μ „μ†΅  
  3. λ¨λ“  Followerμ ACK(`WRITE_REP`) μμ‹  μ‹ ν΄λΌμ΄μ–ΈνΈμ— μµμΆ… `WRITE_REP` λ°ν™  

### β™οΈ λ™μ‘ λ°©μ‹
- **ν΄λΌμ΄μ–ΈνΈ**: `READ_REQ`, `WRITE_REQ` μ”μ²­μ„ λλ¤ μ „μ†΅  
- **Primary μ„λ²„ (5001)**: μ“°κΈ° μ”μ²­μ„ Followerλ΅ λ³µμ  ν›„, λ¨λ“  ACK μμ‹  μ‹ ν΄λΌμ΄μ–ΈνΈμ— μ‘λ‹µ  
- **Follower μ„λ²„ (5002, 5003)**: Primaryλ΅λ¶€ν„° μ“°κΈ° μ”μ²­ μμ‹  β†’ μ €μ¥ ν›„ ACK μ‘λ‹µ  

### π›  μ‹¤ν–‰ λ°©λ²•
```bash
make

# ν„°λ―Έλ„ 1: Primary μ‹¤ν–‰
./server 5001

# ν„°λ―Έλ„ 2: Follower 1 μ‹¤ν–‰
./server 5002

# ν„°λ―Έλ„ 3: Follower 2 μ‹¤ν–‰
./server 5003

# ν„°λ―Έλ„ 4: ν΄λΌμ΄μ–ΈνΈ μ‹¤ν–‰
./client


